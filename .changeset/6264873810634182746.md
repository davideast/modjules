---
'julets': minor
---

ðŸš€ **Feature: Cross-Platform Support (Node.js & Browser)**

The `julets` SDK now officially supports both Node.js and browser environments. This is achieved through a major architectural refactoring that introduces platform-specific implementations and conditional exports, ensuring that only the necessary code is bundled for each environment.

### Browser Support via IndexedDB

The new `BrowserStorage` implementation uses IndexedDB to persist session activities, providing a robust, local-first experience for web applications.

### Architectural Improvements

- **Dependency Injection:** The core SDK client now uses dependency injection for its storage and platform layers, removing the need for runtime environment checks (`isNode`).
- **Platform Abstraction:** A new `Platform` interface abstracts platform-specific APIs (like `fs` and `timers`), with `NodePlatform` and `BrowserPlatform` implementations.
- **Conditional Exports:** The `package.json` `exports` field now correctly points to platform-specific, ESM-only builds, allowing modern bundlers to automatically select the correct implementation.

### New Usage for Cross-Platform Imports

You can now import the SDK in both Node.js and browser environments.

**Node.js (Default):**

```typescript
// Imports the Node.js version by default, using filesystem storage.
import { jules } from 'julets';
```

**Browser:**
While modern bundlers will automatically resolve the correct entry point, you can also explicitly import the browser version:

```typescript
// Explicitly import the browser-optimized version, using IndexedDB storage.
import { jules } from 'julets/browser';
```
